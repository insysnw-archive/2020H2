# Лабораторная работа № 3

Работа выполнена на языке Kotlin (версия Kotlin 1.4.20, версия Java 15.0.1). 
Сборка производится с помощью Gradle (версия 6.5.1)

## Вариант 6 (сервер)
### Описание
При создании клиента необходимо ввести имя. Сервер не допускает одновременную работу двух клиентов с одинаковыми именами.

### Протокол
Используется JSON-таблица, обязательный параметр — `type` — тип сообщения. Отрицательные коды имеют сообщения об ошибках от сервера.

| Код | Описание                                                           | Остальные параметры                  |
| --- | ---                                                                | ---                                  |
| 0   | запрос от клиента на подключение                                   | `text` — имя пользователя            |
| 1   | ответ от сервера с разрешением на подключение                      |                                      |
| 2   | запрос от клиента на отключение                                    |                                      |
| 3   | запрос результатов последнего теста                                |                                      |
| 4   | ответ сервера с результатами                                       | `text` — результаты последнего теста |
| 5   | запрос списка тестов от клиента                                    |                                      |
| 6   | ответ сервера со списком тестов                                    | `text` — список тестов               |
| 7   | запрос от клиента конкретного теста по его номеру                  | `text` — номер запрашиваемого теста  |
| 8   | сервер посылает клиенту вопрос                                     | `text` — текст вопроса               |
| 9   | клиент посылает ответ                                              | `text` — номер варианта ответа       |
| -1  | клиент отправил номер теста, которого не существует                |                                      |
| -2  | клиент подключается по имени, через которое работает другой клиент |                                      |

### Сборка
Сборка всех jar-файлов (для обоих вариантов):
```
gradle all
```
Сборка сервера:
```
gradle server
```

### Запуск
```
java -jar server.jar [ip [port]]
```

## Вариант 19 (клиент)

### Протокол
Используется JSON-таблица, обязательный параметр — `type` — тип сообщения. Отрицательные коды имеют сообщения об ошибках от сервера.

| Код | Описание                                      | Остальные параметры                |
| --- | ---                                           | ---                                |
| 0   | запрос от клиента на подключениe              |                                    |
| 1   | ответ от сервера с разрешением на подключение |                                    |
| 2   | запрос от клиента на отключение               |                                    |
| 3   | запрос списка валют с котировками/изменениями |                                    |
| 4   | ответ сервера со списком                      | `text` — список                    |
| 5   | запрос на добавление валюты                   | `text` — код валюты                |
| 6   | положительный ответ сервера                   |                                    |
| 7   | запрос на удаление валюты                     | `text` — код валюты                |
| 8   | положительный ответ сервера                   |                                    |
| 9   | запрос на добавление курса валюты             | `code` — код валюты; `rate` — курс |
| 10  | положительный ответ сервера                   |                                    |
| 11  | запрос истории курса валюты                   | `text` — код валюты                |
| 12  | ответ с курсом валюты                         |                                    |
| -1  | валюты с указанным кодом не существует        |                                    |
| -2  | валюта с указанным кодом уже есть             |                                    |

### Сборка
Сборка всех jar-файлов (для обоих вариантов):
```
gradle all
```
Сборка клиента:
```
gradle client
```

### Запуск
```
java -jar client.jar [ip [port]]
```



