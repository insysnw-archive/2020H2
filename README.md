# Лабораторная работа № 1

Работа выполнена на языке Kotlin (версия Kotlin 1.4.20, версия Java 15.0.1). 
Сборка производится с помощью Gradle (версия 6.5.1)

# Описание
При создании клиента необходимо ввести имя. Оно должно быть уникальным и не содержать символов `[` и `]`. 
Чтобы завершить работу, необходимо ввести `!q`.
Помимо обычных сообщений передаются также служебные уведомления о подключении или отключении пользователей.

# Использование
Названия jar-файлов (здесь и в дальнейшем без расширения):

| Тип сокетов   | Сервер        | Клиент        |
| ------------- |-------------  | ------------- |
| блокирующие   | `bserver`     | `bclient`     |
| неблокирующие | `nbserver`    | `nbclient`    |

## Сборка
Сборка всех jar-файлов:
```
gradle all
```
Сборка конкретного файла:
```
gradle (name)
```

## Запуск
```
java -jar (name).jar [ip [port]]
```

# Протокол
Каждое сообщение наследует класс `Message`. Возможные типы сообщений:

| Тип                     |  Описание                                                | Поля               
| ---                     | ---                                                      | ---                
| `ConnectionRequest`     | клиент подключается к серверу                            | `username`
| `ConnectionResponse`    | сервер рассылает всем уведомления о новом клиенте        | `username`, `date`
| `ConnectionDenied`      | отказ клиенту в подключении из-за неуникального ника     | `username`
| `DisconnectionRequest`  | клиент отключается от сервера                            | `username`
| `DisconnectionResponse` | сервер рассылает всем уведомления об отключении клиента  |`username`, `date`
| `UserMessage`           | сообщение клиента                                        |`username`, `message`, `date`

Поля:
* `username`: ник пользователя
* `date`: время прихода сообщения на сервер
* `message`: сообщение